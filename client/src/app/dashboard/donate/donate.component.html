<div class="jumbotron">

    <simple-notifications [options]="toastOptions"></simple-notifications>

    <div class="buttonsPanel" [@slide]="buttonsState">
        <button type="button" class="btn btn-primary btn-lg btn-block mainButtons" (click)="toggleMenu()">Doar</button>
        <button type="button" style="display: none" class="btn btn-success btn-lg btn-block mainButtons" (click)="toggleMenu()">Pechinchar</button>
    </div>

    <div class="donatePanel" [@slide]="formState">
        <form [formGroup]="donateForm" (ngSubmit)="donate($event)">

            <div class="form-group">
                <div class="input-group {{getControlClass('amount')}}">
                    <span class="input-group-addon" id="basic-addon1"><i class="fa fa-usd" aria-hidden="true"></i></span>
                    <input [(ngModel)]="transaction.amount" [formControl]="donateForm.controls['amount']" type="number" name="inputAmount" class="form-control" placeholder="Quanto?">
                </div>
                <p *ngIf="formErrors.amount" class="text-danger">
                    {{ formErrors.amount }}
                </p>
            </div>

            <div class="form-group">
                <div class="input-group {{getControlClass('user')}}">
                    <span class="input-group-addon" id="basic-addon1"><i class="fa fa-user" aria-hidden="true"></i></span>
                    <select [(ngModel)]="transaction.to" [formControl]="donateForm.controls['user']" class="form-control" name="inputUser">
                        <option [ngValue]="transaction.to"  [disabled]="true" [selected]="true">Para quem?</option>
                        <option [ngValue]="user" *ngFor="let user of teamUsers">{{user.name}}</option>					
                    </select>
                </div>
                <p *ngIf="formErrors.user" class="text-danger">
                    {{ formErrors.user }}
                </p>
            </div>

            <div class="form-group">
                <div class="input-group {{getControlClass('type')}}">
                    <span class="input-group-addon" id="basic-addon1"><i class="fa fa-bookmark" aria-hidden="true"></i></span>
                    <select [(ngModel)]="transaction.transactionType" [formControl]="donateForm.controls['type']" class="form-control" name="inputTypes">
                        <option [ngValue]="transaction.transactionType" [disabled]="true" [selected]="true">Por que?</option>
                        <option [ngValue]="type" *ngFor="let type of transactionTypes">{{type.description}}</option>					
                    </select>
                </div>
                <p *ngIf="formErrors.type" class="text-danger">
                    {{ formErrors.type }}
                </p>
            </div>

            <div class="form-group {{getControlClass('message')}}">
                <textarea [(ngModel)]="transaction.message" [formControl]="donateForm.controls['message']" class="form-control" name="inputMessage" rows="2" placeholder="Mande uma mensagem..."></textarea>
                    <p *ngIf="formErrors.message" class="text-danger">
                        {{ formErrors.message }}
                    </p>
            </div>

            <div class="btn-group btn-group-justified" role="group">
                <div class="btn-group" role="group">
                    <button type="submit" class="btn btn-primary btn-success" [disabled]="!donateForm.valid">Enviar</button>
                </div>

                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-danger btn-default" (click)="cancel()">Cancelar</button>
                </div>
            </div>
        </form>
    </div>
</div>